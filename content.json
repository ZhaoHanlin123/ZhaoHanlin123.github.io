{"meta":{"title":"赵含霖","subtitle":"改变自己","description":"","author":"赵含霖","url":"http://yoursite.com","root":"/"},"pages":[],"posts":[{"title":"torchvision模块介绍","slug":"torchvision模块介绍","date":"2020-01-28T03:38:40.000Z","updated":"2020-01-29T04:23:12.117Z","comments":true,"path":"2020/01/28/torchvision模块介绍/","link":"","permalink":"http://yoursite.com/2020/01/28/torchvision%E6%A8%A1%E5%9D%97%E4%BB%8B%E7%BB%8D/","excerpt":"torchvision是独立于pytorch的关于图像操作的一些方便工具库。","text":"torchvision是独立于pytorch的关于图像操作的一些方便工具库。torchvision主要包括一下几个包： torchvision.datasets: 一些加载数据的函数及常用的数据集接口。 torchvision.models：包含常用的模型结构（含预训练模型）和训练好的参数，例如AlexNet、VGG、ResNet等。 torchvision.transforms: 常用的图片变换，例如裁剪、旋转等。 torchvision.utils: 其他的一些有用的方法。 具体代码可以参考github torchvision.datasets所有数据集都是torch.utils.data.Dataset的子类，都含有__getitem__和__len__方法。因此，它们都可以传递给torch.utils.data.DataLoader，使用torch.multiprocessing可以并行加载多个样本。例如： 12345imagenet_data = torchvision.datasets.ImageNet('path/to/imagenet_root/')data_loader = torch.utils.data.DataLoader(imagenet_data, batch_size=4, shuffle=True, num_workers=args.nThreads) 包括以下数据集 MNIST Fashion-MNIST KMNIST EMNIST FakeData COCO Captions Detection LSUN ImageFolder DatasetFolder Imagenet-12 CIFAR STL10 SVHN PhotoTour SBU Flickr VOC Cityscapes SBD 每个数据集都有相似的参数，在掌握一个后很容易掌握其他数据集。 1torchvision.datasets.MNIST(root, train=True, transform=None, target_transform=None, download=False) root:数据的目录，里边有 processed/training.pt 和processed/test.pt 的内容train: True-使用训练集, False-使用测试集.transform: 给输入图像施加变换target_transform: 给目标值(类别标签)施加的变换download: 是否下载mnist数据集,首次使用时需要下载为True。示例: 12345import torchvisionimport torchvision.transforms as transformsMNIST_train = torchvision.datasets.MNIST('Datasets/MNIST', train=True, transform=transforms.ToTensor(), target_transform=None, download=False)MNIST_test = torchvision.datasets.MNIST('Datasets/MNIST', train=False, transform=transforms.ToTensor(), target_transform=None, download=False) 通过len()获得数据集大小，通过下标来获得具体的个数 12345print(type(MNIST_train))print(len(MNIST_train), len(MNIST_test))feature, label = MNIST_train[0]print(feature.shape, label) 123&lt;class 'torchvision.datasets.mnist.MNIST'&gt;60000 10000torch.Size([1, 28, 28]) 5 torchvision.modelsmodels包含了以下的模型 AlexNet VGG ResNet SqueezeNet DenseNet Inception v3 GoogLeNet 可以随机参数初始化一个模型 1234567import torchvision.models as modelsresnet18 = models.resnet18()alexnet = models.alexnet()vgg16 = models.vgg16()squeezenet = models.squeezenet1_0()densenet = models.densenet161() 此外还提供了预训练的的模型，构造函数里添加pretrained=True 12345import torchvision.models as modelsresnet18 = models.resnet18(pretrained=True)alexnet = models.alexnet(pretrained=True)squeezenet = models.squeezenet1_0(pretrained=True) 所有的预训练模型期待输入同样标准化的数据，例如mini-baches 包括形似(3*H*W)的3通道的RGB图像，H,W最少是224。 图像的范围必须在[0,1]之间，然后使用 mean=[0.485, 0.456, 0.406] and std=[0.229, 0.224, 0.225] 进行标准化。 相关例子 torchvision.transforms变换为常用的图像变换，可以通过Compose一起使用。 1transforms.Compose([transforms.CenterCrop(10), transforms.ToTensor()]) 在PIL格式图片上的转换1class torchivision.transforms.CenterCrop(size) 作用：剪切并返回PIL图片上中心区域参数：size为序列或者整形——输出的中心区域大小。size为(h, w)，size为整数时，则为(size, szie)。 1class torchvision.transforms.ColorJitter(brightness=0, contrast=0,saturation=0,hue=0) 作用：随机改变图片的亮度、对比度和饱和度参数： brightness(亮度，float类型)——调整亮度的程度，亮度因子(brightness_factor)从 [max(0,1-brightness), 1+brightness] 中均匀选取。 contrast(对比度，float类型)——调整对比度的程度，对比度因子(contrast_factor)从 [max(0,1-contrast),1+contrast] 中均匀选取。 saturation(饱和度，float类型)——调整饱和度的程度，饱和度因子(saturation_factor) [max(0,1-saturation),1+saturation] 中均匀选取。 hue(色相，float类型) —— 调整色相的程度，色相因子(hue_factor)从 [-hue,hue] 等均匀选择, 其中hue的大小为 [0, 0.5]。 对比度：对比度指不同颜色之间的差别。对比度越大，不同颜色之间的反差越大，所谓黑白分明，对比度过大，图像就会显得很刺眼。对比度越小，不同颜色之间的反差就越小。亮度：亮度是指照射在景物或者图像上光线的明暗程度，图像亮度增加时，会显得刺眼或耀眼，亮度越小，会显得灰暗。色相：色相就是颜色，调整色相就是调整景物的颜色。饱和度：饱和度指图像颜色的浓度。饱和度越高，颜色越饱满，所谓的青翠欲滴的感觉。饱和度越低，颜色就会越陈旧，惨淡，饱和度为0时，图像就为灰度图像。 1class torchvision.transforms.FiveCrop(size) 作用：将给定的PIL图像剪裁成四个角落区域和中心区域，返回的是一个图像元组(tuple of imgae),所以输入与输出的数量不匹配。参数：size为序列或者整形——输出的中心区域大小。size为(h, w)，size为整数时，则为(size, szie)。 1class torchvision.transforms.Grayscale(num_output_channels=1) 作用：将图片转成灰度图参数：num_output_channels(int) —— (1或者3)，输出图片的通道数量。如果num_output_channels=1, 返回的图片为单通道. 如果 num_output_channels=3,返回的图片为3通道图片，且r=g=b。 1class torchvision.transforms.Pad(padding, fill=0, padding_mode=‘constant’) 作用：对给定的PIL图像的边缘进行填充，填充的数值为给定填充数值参数： padding(int或者tuple)——填充每一个边界。如果只输入了一个int类型的数值，那么这个数值会被用来填充所有的边界，表示填充的宽度多少。如果输入的是tuple且长度为2，那么俩个数值分别被用于填充left/right 和 top/bottom。如果输入的数组为4，那么分别被用来填充left, top ,right 和 bottom边界。 fill (int 或者 tuple) —— 填充的像素的数值为fill。默认为0，如果输入的元组的长度为3，那么分别被用来填充R,G,B通道。这个数值当padding_mode 等于‘constant’ 的时候才会被使用。 padding_mode (string) —— 填充的类型，必须为：constant, edge, reflect or symmetric，默认为 constant。constant: 以常量值进行填充，常量值由 fill 确定。edge: 用图片边界最后一个值进行填充。reflect: pads with reflection of image without repeating the last value on the edge (这句不知怎么翻译，看下面例子)例子: 用俩个元素填充[1,2,3,4], 将会返回[3,2,1,2,3,4,3,2]symmetric: pads with reflection of image repeating the last value on the edge例子：用俩个函数元素填充 [1,2,3,4]，将会返回[2,1,1,2,3,4,4,3] 1class torchvision.transforms.RandomAffine(degrees, translate=None, scale=None) 作用：保持中心不变的对图片进行随机仿射变化参数： degree (旋转，squence或者float或者int) —— 旋转的角度范围。如果角度是数值而不是类似于(min,max)的序列，那么将会转换成(-degree, +degree)序列。设为0则取消旋转。 transalate (平移，tuple，可选) —— 数组，其中元素为代表水平和垂直变换的最大绝对分数。例如translate=(a,b),那么水平位移数值为从(-w*a, w*a)随机采样的，同时垂直位移是从(-h*b, h*b)随机采样的。默认情况下没有平移。 scale (缩放，tuple, 可选) —— 缩放因子区间。若scale=(a,b), 则缩放的值在a&lt;=scale&lt;=b 随机采样。默认情况下没有缩放。 shear (错切，sequence 或者 float 或者 int, 可选) —— 错切的程度。如果错切的程度是一个值，那么将会转换为序列即(—degree, +degree)。默认情况下不使用错切。 resample ({PIL.Image.NEAREST, PIL.Image.BILINEAR, PIL.Image.BICUBIC}, 可选)。 fillcolor(整型) —— 可选择的在输出图片中填充变换以外的区域。(Pillow&gt;=5.0.0) 1class torchvision.transforms.RandomApply(transforms, p=0.5) 作用：随机选取变换中(各种变换存储在列表中)的其中一个，同时给定一定的概率参数： transforms: 变换（list或者tuple） —— 转换的列表 p: (float 类型) —— 概率,选取某个变化需要的概率 1torchvision.transforms.Resize(size,interpolation=2) 作用：将输入的PIL图片转换成给定的尺寸的大小参数： size(sequence 或者 int) —— 需要输出的图片的大小。如果size是类似于(h,w)的序列，输出的尺寸将会跟(h,w)一致。如果size是整型，图片较小的边界将会被置为这个尺寸。例如，如果height-&gt;width, 图片将会被置为 (size*height/width, size) Interpolation (int, 可选) —— 默认为 PIL.Image.BILINEAR 1torch 在torch.*Tensor上的转换1class torchvision.transforms.Normalize(mean,std) 作用：用均值和标准差对张量图像进行标准化处理。给定n通道的均值(M1, … , Mn) 和标准差(S1, … ,Sn), 这个变化将会归一化根据均值和标准差归一化每个通道值。例如，input[channel] = (input[channel]-mean[channel])/std(channel) 参数： mean (squence) —— 每个通道的均值 std (sequence) —— 每个通道的标准差 类型转换变换1class torchvision.transforms.ToPILImage(mode=None) 作用：将tensor类型或者ndarray转换成PIL图片，将 C*H*W大小的torch.Tensor或者H\\W*C 大小的numpy矩阵转成PIL图片。参数：如果mode=None，则有一下假设 如果输入为4个通道，mode为RGBA 如果输入为3个通道，mode为RGB 如果输入为2个通道，mode为LA 如果输入为1个通道，mode有数据的类型决定（int,float） 1class torchvision.transforms.ToTensor() 作用：将PIL图像和numpy array转换为tensor 参考文献https://www.cnblogs.com/yjphhw/p/9773333.htmlhttps://pytorch.org/docs/stable/torchvisionhttps://blog.csdn.net/Hansry/article/details/84071316","categories":[],"tags":[{"name":"torchvision","slug":"torchvision","permalink":"http://yoursite.com/tags/torchvision/"}]},{"title":"Markdown 语法学习","slug":"markdown-语法学习","date":"2020-01-21T07:00:35.000Z","updated":"2020-01-29T04:24:12.094Z","comments":true,"path":"2020/01/21/markdown-语法学习/","link":"","permalink":"http://yoursite.com/2020/01/21/markdown-%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0/","excerpt":"Markdown 是一种轻量级标记语言，它允许人们使用易读易写的纯文本格式编写文档。","text":"Markdown 是一种轻量级标记语言，它允许人们使用易读易写的纯文本格式编写文档。Markdown 语言在 2004 由约翰·格鲁伯（英语：John Gruber）创建。Markdown 编写的文档可以导出 HTML 、Word、图像、PDF、Epub 等多种格式的文档。Markdown 编写的文档后缀为 .md, .markdown。 1.Markdown 标题可以通过设置#的个数来表示标题大小，#的个数对应标题大小一般在#后加一个空格在写文字 示例： 123456# 一级标题## 二级标题### 三级标题#### 四级标题##### 五级标题###### 六级标题 效果如下： 一级标题二级标题三级标题四级标题五级标题六级标题 2 Markdown 段落格式2.1 字体加粗的文字左右用两个*包围斜体的文字左右用一个*包围斜体加粗的文字左右用三个*包围删除线的文字左右用两个~包围 示例： 1234**hello world 加粗***hello world 斜体****hello world 斜体加粗***~~hello world 删除线~~ 效果如下：hello world 加粗hello world 斜体hello world 斜体加粗hello world 删除线 2.2 分隔线你可以在一行中用三个以上的星号、减号、底线来建立一个分隔线，行内不能有其他东西。你也可以在星号或是减号中间插入空格。下面每种写法都可以建立分隔线。不过一般推荐用—- 示例： 12345---**** * *- - -------- 效果如下： 2.3 下划线下划线可以通过 HTML 的 \\&lt;u&gt; 标签来实现 示例： 1&lt;u&gt;hello world 下划线&lt;/u&gt; 2.4 脚注脚注是对文本的表示说明 示例： 1[^要注明的文本] 效果如下：创建脚注格式类似这样 hello。hello: hello world！！！ 3 Markdown 列表Markdown支持有序列表和无序列表 3.1 无序列表无序列表使用星号(*)、加号(+)、减号(-)作为标记。注意要符号后要跟一个空格示例： 1234567891011* 第一项* 第二项* 第三项+ 第一项+ 第二项+ 第三项- 第一项- 第二项- 第三项 效果如下： 第一项 第二项 第三项 第一项 第二项 第三项 第一项 第二项 第三项 3.2 有序列表有序列表使用数字并加上(.)号来表示示例： 1231. 第一项2. 第二项3. 第三项 效果如下： 第一项 第二项 第三项 3.3 列表嵌套有序列表和无序列表可以相会嵌套列表嵌套只需在子列表中的选项添加三个空格即可 示例： 1234561. 一级有序列表内容 * 二级无序列表内容 * 二级无序列表内容2. 一级有序列表内容 * 二级无序列表内容 * 二级无序列表内容 效果如下： 一级有序列表内容 二级无序列表内容 二级无序列表内容 一级有序列表内容 二级无序列表内容 二级无序列表内容 4 Markdown 区块Markdown区块引用在段落开头使用&gt;符号，后面紧跟一个空格嵌套引用在前面多加一个&gt; 示例： 123456&gt; 第一行&gt; 第二行&gt; 第三行&gt; &gt; 第四行&gt; &gt; 第五行&gt; &gt; 第六行 效果如下： 第一行第二行第三行 第四行第五行第六行 5 Markdown 图片基本语法：![图片alt](图片地址 &#39;&#39;图片title&#39;&#39;) 图片alt就是显示在图片下面的文字，相当于对图片内容的解释。图片title是图片的标题，当鼠标移到图片上时显示的内容。title可加可不加。 5.1 本地引用可以放在文章所在的目录，文章的目录可以通过配置_config.yml来生成。 1post_asset_folder: true 将_config.yml文件中的配置项post_asset_folder设为true后，执行命令$ hexo new post_name，在source/_posts中会生成文章post_name.md和同名文件夹post_name。将图片资源放在post_name中，文章就可以使用相对路径引用图片资源了。示例： 1![earth](/markdown-语法学习/earth.jpg \"earth\") 但在本地markdown文件有效，部署到浏览器显示不知道为什么无用 5.2 使用官方提供的标签 通过常规的 markdown 语法和相对路径来引用图片和其它资源可能会导致它们在存档页或者主页上显示不正确。在Hexo 2时代，社区创建了很多插件来解决这个问题。但是，随着Hexo 3 的发布，许多新的标签插件被加入到了核心代码中。这使得你可以更简单地在文章中引用你的资源。 示例： 1&#123;% asset_img universe.jpg universe %&#125; 效果如下: 6 表格Markdown 制作表格使用 | 来分隔不同的单元格，使用 - 来分隔表头和其他行。 表头 表头 表头 内容 内容 内容 内容 内容 内容 第二行分割表头和内容。-号 有一个就行，为了对齐，多加了几个文字默认居左-两边加：表示文字居中-右边加：表示文字居右注：原生的语法两边都要用 | 包起来。此处省略 示例： 12345姓名|成绩|排名----|:--:|--:小明|98|1小王|90|2小赵|88|3 效果如下： 姓名 成绩 排名 小红 98 1 小赵 60 2 7 超链接语法： 12[超链接名](超链接地址 \"超链接title\")title可加可不加 示例： 12[简书](http://jianshu.com)[百度](http://baidu.com) 效果如下：简书百度 9 代码9.1 单行代码单行代码之间用一个反引号包起来示例：hello world 9.2 多行代码代码块之间分别用三个反引号包起来，且两边的反引号单独占一行并且可以指定一种语言 示例： 123456(&#96;&#96;&#96;) pythonimport sysimport timeprint(&quot;hello world&quot;)(&#96;&#96;&#96;) 其中括号为了防止```发生作用 效果如下： 1234import sysimport timeprint(\"hello world\") 10 公式当你需要在编辑器中插入数学公式时，可以使用两个美元符 $$ 包裹 TeX 或 LaTeX 格式的数学公式来实现。提交后，问答和文章页会根据需要加载 Mathjax 对数学公式进行渲染。 如何修改配置可看解决方法1, 解决方法2 示例 123$$f(x) &#x3D; \\frac&#123;1&#125;&#123;\\sqrt&#123;2\\pi&#125;\\sigma&#125;e^&#123;-\\frac&#123;x^2&#125;&#123;2\\sigma^2&#125;&#125;$$ 效果如下： f(x) = \\frac{1}{\\sqrt{2\\pi}\\sigma}e^{-\\frac{x^2}{2\\sigma^2}}11 流程图等有时间再写 参考文献https://www.runoob.com/markdown/md-lists.htmlhttps://www.jianshu.com/p/191d1e21f7edhttps://blog.csdn.net/oDianZi1234567/article/details/89323982","categories":[],"tags":[{"name":"markdown","slug":"markdown","permalink":"http://yoursite.com/tags/markdown/"}]}]}